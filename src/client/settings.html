<!DOCTYPE html>
<html>
  <head>
    <base target="_top" />
    <link
      href="https://unpkg.com/tabulator-tables@4.9.3/dist/css/tabulator.min.css"
      rel="stylesheet"
    />
    <!-- Compiled and minified CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
    />
    <link rel="stylesheet" href="settings.css" />
  </head>

  <body>
    <div class="row">
      <div class="col s12">
        <ul id="tabs" class="tabs">
          <li class="tab col s3">
            <a class="active green-text text-darken-3" href="#bank_accounts">
              Bank Accounts
            </a>
          </li>
          <li class="tab col s3">
            <a class="green-text text-darken-3" href="#import_rules">
              Import Rules
            </a>
          </li>
          <li class="tab col s3">
            <a
              class="green-text text-darken-3"
              href="#automatic_categorization"
            >
              Automatic Categorization
            </a>
          </li>
        </ul>
      </div>
      <div id="bank_accounts" class="col s12">
        <div class="input-field">
          <textarea
            disabled
            id="settings_bank_accounts"
            class="materialize-textarea"
          >
            Loading...
          </textarea>
          <label for="settings_bank_accounts">Bank Accounts</label>
        </div>
        <p>
          These bank accounts are retrieved from status sheet. Please change
          your bank account details there.
        </p>
      </div>
      <div id="import_rules" class="col s12">
        <button onclick="alert('works!')">import rules</button>
      </div>
      <div id="automatic_categorization" class="col s12">
        <p>
          Paste here your configuration for the automatic categorization. The
          configuration is a JSON object where the key is a category and the
          value an array of regular expressions. These regular expressions will
          be used like `new RegExp("yourregex")`
        </p>
        <div>
          <label for="settings_automatic_categorization">
            Automatic Categorization Config
          </label>
          <textarea
            disabled
            onchange="validateConfig()"
            id="settings_automatic_categorization"
          >
            Loading...
          </textarea>
        </div>
        <p id="validation-status"></p>
        <button
          id="save-btn"
          disabled
          onclick="saveAutomaticCategorizationConfig()"
        >
          Store configuration
        </button>
      </div>
    </div>
  </body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="settings.js"></script>
</html>
